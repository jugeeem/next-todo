# STEP 4: ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆè¨­è¨ˆå…¥é–€

## ğŸ¯ ç›®æ¨™

STEP 3ã§ä½œæˆã—ãŸTodoã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ã€ã‚‚ã£ã¨ä½¿ã„ã‚„ã™ãæ•´ç†ã—ã¾ã™ã€‚å¤§ããªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’å°ã•ãåˆ†ã‘ã¦ã€å†åˆ©ç”¨ã—ã‚„ã™ãã—ã¾ã™ã€‚

## ğŸ“‹ å­¦ç¿’æˆæœ

ã“ã®STEPã‚’å®Œäº†ã™ã‚‹ã¨ã€ä»¥ä¸‹ã®ã“ã¨ãŒã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ï¼š

- **ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’é©åˆ‡ãªå¤§ãã•ã«åˆ†å‰²ã™ã‚‹**
- **TypeScriptã§å‹å®‰å…¨ãªPropsè¨­è¨ˆã‚’ã™ã‚‹**
- **å†åˆ©ç”¨å¯èƒ½ãªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½œã‚‹**
- **ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆé–“ã§ãƒ‡ãƒ¼ã‚¿ã‚’å—ã‘æ¸¡ã—ã™ã‚‹**

## ğŸ”„ STEP 3ã‹ã‚‰ã®å¤‰æ›´ãƒã‚¤ãƒ³ãƒˆ

### å¤‰æ›´å‰ï¼ˆSTEP 3ï¼‰
- 1ã¤ã®ãƒ•ã‚¡ã‚¤ãƒ«ã«å…¨ã¦ã®æ©Ÿèƒ½ãŒè©°ã¾ã£ã¦ã„ã‚‹
- åŒã˜ã‚ˆã†ãªã‚³ãƒ¼ãƒ‰ãŒä½•åº¦ã‚‚æ›¸ã‹ã‚Œã¦ã„ã‚‹
- å‹å®šç¾©ãŒãƒãƒ©ãƒãƒ©ã«æ•£ã‚‰ã°ã£ã¦ã„ã‚‹

### å¤‰æ›´å¾Œï¼ˆSTEP 4ï¼‰
- æ©Ÿèƒ½ã”ã¨ã«å°ã•ãªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«åˆ†å‰²
- å…±é€šã™ã‚‹éƒ¨åˆ†ã¯å†åˆ©ç”¨ã§ãã‚‹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«
- å‹å®šç¾©ã‚’ã¾ã¨ã‚ã¦ç®¡ç†

## ğŸ—ï¸ åŸºæœ¬çš„ãªè€ƒãˆæ–¹

### 1. 1ã¤ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯1ã¤ã®å½¹å‰²
å„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯1ã¤ã®ã“ã¨ã ã‘ã‚’ã™ã‚‹

### 2. å°ã•ãªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’çµ„ã¿åˆã‚ã›ã‚‹
å°ã•ãªéƒ¨å“ã‚’çµ„ã¿åˆã‚ã›ã¦å¤§ããªæ©Ÿèƒ½ã‚’ä½œã‚‹

### 3. å‹ã‚’ä½¿ã£ã¦é–“é•ã„ã‚’é˜²ã
TypeScriptã®å‹ã‚’ä½¿ã£ã¦ãƒã‚°ã‚’äº‹å‰ã«é˜²ã

## ğŸš€ å®Ÿè£…æ‰‹é †

### Phase 1: åŸºæœ¬çš„ãªå‹å®šç¾©ã‚’ä½œã‚‹

#### 1.1 å…±é€šã§ä½¿ã†å‹ã‚’ã¾ã¨ã‚ã‚‹

**ãƒ•ã‚¡ã‚¤ãƒ«**: `src/types/components.ts`

##### ãªãœå‹å®šç¾©ã‚’ã¾ã¨ã‚ã‚‹ã®ã‹ï¼Ÿ

åŒã˜ã‚ˆã†ãªå‹å®šç¾©ã‚’ä½•åº¦ã‚‚æ›¸ãã®ã¯å¤§å¤‰ã§ã™ã€‚å…±é€šã§ä½¿ã†å‹ã‚’1ã¤ã®ãƒ•ã‚¡ã‚¤ãƒ«ã«ã¾ã¨ã‚ã‚‹ã“ã¨ã§ï¼š

- åŒã˜å‹ã‚’ä½¿ã„å›ã›ã‚‹
- é–“é•ã„ãŒæ¸›ã‚‹
- å¤‰æ›´ã™ã‚‹ã¨ãã«1ç®‡æ‰€ã ã‘ç›´ã›ã°ã„ã„

##### åŸºæœ¬çš„ãªå‹å®šç¾©

```typescript
// å…¨ã¦ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒå…±é€šã§ä½¿ã†ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£
export interface BaseComponentProps {
  children?: React.ReactNode;  // å­è¦ç´ 
  className?: string;         // CSSã‚¯ãƒ©ã‚¹
  testId?: string;           // ãƒ†ã‚¹ãƒˆç”¨ID
}

// ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°çŠ¶æ…‹ã‚’è¡¨ã™å‹
export interface LoadingState {
  isLoading?: boolean;
  loadingText?: string;
}

// ã‚¨ãƒ©ãƒ¼çŠ¶æ…‹ã‚’è¡¨ã™å‹
export interface ErrorState {
  error?: string;
  isInvalid?: boolean;
}

// ãƒœã‚¿ãƒ³ã®ã‚¯ãƒªãƒƒã‚¯ã‚¤ãƒ™ãƒ³ãƒˆ
export type ClickHandler = () => void;

// ãƒ•ã‚©ãƒ¼ãƒ ã®é€ä¿¡ã‚¤ãƒ™ãƒ³ãƒˆ
export type SubmitHandler<T> = (data: T) => void;
```

#### 1.2 Todoã‚¢ãƒ—ãƒªå°‚ç”¨ã®å‹ã‚’ä½œã‚‹

**ãƒ•ã‚¡ã‚¤ãƒ«**: `src/types/todo-components.ts`

##### Todoãƒ‰ãƒ¡ã‚¤ãƒ³ã§ä½¿ã†å‹å®šç¾©

```typescript
import { Todo } from '../domain/entities';
import { BaseComponentProps, ErrorState, SubmitHandler } from './components';

// Todoã‚¢ã‚¤ãƒ†ãƒ ã‚’è¡¨ç¤ºã™ã‚‹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®å‹
export interface TodoItemProps extends BaseComponentProps {
  todo: Todo;
  onEdit?: (todo: Todo) => void;      // ç·¨é›†ãƒœã‚¿ãƒ³ãŒæŠ¼ã•ã‚ŒãŸæ™‚
  onDelete?: (id: string) => void;    // å‰Šé™¤ãƒœã‚¿ãƒ³ãŒæŠ¼ã•ã‚ŒãŸæ™‚
  onToggle?: (id: string) => void;    // å®Œäº†/æœªå®Œäº†ã‚’åˆ‡ã‚Šæ›¿ãˆã‚‹æ™‚
}

// Todoãƒ•ã‚©ãƒ¼ãƒ ã§ä½¿ã†ãƒ‡ãƒ¼ã‚¿ã®å‹
export interface TodoFormData {
  title: string;
  description?: string;
}

// Todoãƒ•ã‚©ãƒ¼ãƒ ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®å‹
export interface TodoFormProps extends BaseComponentProps, ErrorState {
  initialData?: Partial<TodoFormData>; // åˆæœŸå€¤ï¼ˆç·¨é›†æ™‚ã«ä½¿ç”¨ï¼‰
  onSubmit: SubmitHandler<TodoFormData>; // ãƒ•ã‚©ãƒ¼ãƒ é€ä¿¡æ™‚
  submitButtonText?: string; // ãƒœã‚¿ãƒ³ã®ãƒ†ã‚­ã‚¹ãƒˆ
}
```

#### 1.3 Userãƒ‰ãƒ¡ã‚¤ãƒ³å°‚ç”¨ã®å‹ã‚’ä½œã‚‹

**ãƒ•ã‚¡ã‚¤ãƒ«**: `src/types/user-components.ts`

##### Userãƒ‰ãƒ¡ã‚¤ãƒ³ã§ä½¿ã†å‹å®šç¾©

```typescript
import { User } from '../domain/entities';
import { BaseComponentProps, ErrorState, SubmitHandler } from './components';

// ãƒ¦ãƒ¼ã‚¶ãƒ¼è¡¨ç¤ºã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®å‹
export interface UserAvatarProps extends BaseComponentProps {
  user: User;
  size?: 'sm' | 'md' | 'lg';
  showName?: boolean;
}

// ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«è¡¨ç¤ºã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®å‹
export interface UserProfileProps extends BaseComponentProps {
  user: User;
  showEmail?: boolean;
  showCreatedAt?: boolean;
  editable?: boolean;
  onEdit?: (user: User) => void;
}

// ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ•ã‚©ãƒ¼ãƒ ã§ä½¿ã†ãƒ‡ãƒ¼ã‚¿ã®å‹
export interface UserFormData {
  name: string;
  email: string;
  password?: string; // æ–°è¦ä½œæˆæ™‚ã®ã¿å¿…è¦
}

// ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ•ã‚©ãƒ¼ãƒ ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®å‹
export interface UserFormProps extends BaseComponentProps, ErrorState {
  initialData?: Partial<UserFormData>; // åˆæœŸå€¤ï¼ˆç·¨é›†æ™‚ã«ä½¿ç”¨ï¼‰
  onSubmit: SubmitHandler<UserFormData>; // ãƒ•ã‚©ãƒ¼ãƒ é€ä¿¡æ™‚
  submitButtonText?: string; // ãƒœã‚¿ãƒ³ã®ãƒ†ã‚­ã‚¹ãƒˆ
  isEditMode?: boolean; // ç·¨é›†ãƒ¢ãƒ¼ãƒ‰ã‹ã©ã†ã‹
}

// ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚«ãƒ¼ãƒ‰ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®å‹
export interface UserCardProps extends BaseComponentProps {
  user: User;
  compact?: boolean; // ã‚³ãƒ³ãƒ‘ã‚¯ãƒˆè¡¨ç¤ºã‹ã©ã†ã‹
  onClick?: (user: User) => void;
  showTodoCount?: boolean; // Todoæ•°ã‚’è¡¨ç¤ºã™ã‚‹ã‹ã©ã†ã‹
  todoCount?: number;
}
```

##### ãªãœå‹å®šç¾©ã‚’åˆ†é›¢ã™ã‚‹ã®ã‹ï¼Ÿ

ãƒ‰ãƒ¡ã‚¤ãƒ³ã”ã¨ã«å‹å®šç¾©ã‚’åˆ†é›¢ã™ã‚‹ã“ã¨ã§ï¼š

- **é–¢å¿ƒã®åˆ†é›¢**: Todoã¨Userã®å‹å®šç¾©ãŒæ··åœ¨ã—ãªã„
- **ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹æ€§å‘ä¸Š**: å„ãƒ‰ãƒ¡ã‚¤ãƒ³ã®å¤‰æ›´ãŒä»–ã«å½±éŸ¿ã—ãªã„
- **å†åˆ©ç”¨æ€§å‘ä¸Š**: å¿…è¦ãªå‹å®šç¾©ã®ã¿ã‚’ã‚¤ãƒ³ãƒãƒ¼ãƒˆã§ãã‚‹
- **å¯èª­æ€§å‘ä¸Š**: ãƒ•ã‚¡ã‚¤ãƒ«ã®è²¬å‹™ãŒæ˜ç¢ºã«ãªã‚‹

### Phase 2: åŸºæœ¬çš„ãªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½œã‚‹

#### 2.1 ãƒ†ã‚­ã‚¹ãƒˆè¡¨ç¤ºã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

**ãƒ•ã‚¡ã‚¤ãƒ«**: `src/components/atoms/Text/Text.tsx`

##### ãªãœãƒ†ã‚­ã‚¹ãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½œã‚‹ã®ã‹ï¼Ÿ

ã‚¢ãƒ—ãƒªå…¨ä½“ã§çµ±ä¸€ã•ã‚ŒãŸãƒ†ã‚­ã‚¹ãƒˆã‚¹ã‚¿ã‚¤ãƒ«ã‚’ä½¿ã†ãŸã‚ã«ã€å°‚ç”¨ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½œã‚Šã¾ã™ã€‚

##### åŸºæœ¬çš„ãªå®Ÿè£…

```typescript
import { BaseComponentProps } from '../../../types/components';

interface TextProps extends BaseComponentProps {
  size?: 'sm' | 'md' | 'lg' | 'xl';
  color?: 'default' | 'muted' | 'primary' | 'danger';
  weight?: 'normal' | 'medium' | 'bold';
  as?: 'p' | 'span' | 'h1' | 'h2' | 'h3' | 'h4' | 'h5' | 'h6';
}

export const Text: React.FC<TextProps> = ({
  children,
  size = 'md',
  color = 'default',
  weight = 'normal',
  as: Component = 'p',
  className,
  testId,
  ...props
}) => {
  // ã‚µã‚¤ã‚ºã«å¿œã˜ãŸCSSã‚¯ãƒ©ã‚¹ã‚’æ±ºã‚ã‚‹
  const sizeClasses = {
    sm: 'text-sm',
    md: 'text-base',
    lg: 'text-lg',
    xl: 'text-xl'
  };

  // è‰²ã«å¿œã˜ãŸCSSã‚¯ãƒ©ã‚¹ã‚’æ±ºã‚ã‚‹
  const colorClasses = {
    default: 'text-gray-900',
    muted: 'text-gray-500',
    primary: 'text-blue-600',
    danger: 'text-red-600'
  };

  // ãƒ•ã‚©ãƒ³ãƒˆã‚¦ã‚§ã‚¤ãƒˆã«å¿œã˜ãŸCSSã‚¯ãƒ©ã‚¹ã‚’æ±ºã‚ã‚‹
  const weightClasses = {
    normal: 'font-normal',
    medium: 'font-medium',
    bold: 'font-bold'
  };

  const classes = [
    sizeClasses[size],
    colorClasses[color],
    weightClasses[weight],
    className
  ].filter(Boolean).join(' ');

  return (
    <Component 
      className={classes}
      data-testid={testId}
      {...props}
    >
      {children}
    </Component>
  );
};
```

##### ä½¿ã„æ–¹ã®ä¾‹

```typescript
// åŸºæœ¬çš„ãªä½¿ã„æ–¹
<Text>ã“ã‚Œã¯æ™®é€šã®ãƒ†ã‚­ã‚¹ãƒˆã§ã™</Text>

// è¦‹å‡ºã—ã¨ã—ã¦ä½¿ã†
<Text as="h1" size="xl" weight="bold">
  ãƒšãƒ¼ã‚¸ã‚¿ã‚¤ãƒˆãƒ«
</Text>

// ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
<Text color="danger" size="sm">
  ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ
</Text>
```

#### 2.2 ãƒœã‚¿ãƒ³ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

**ãƒ•ã‚¡ã‚¤ãƒ«**: `src/components/atoms/Button/Button.tsx`

##### åŸºæœ¬çš„ãªå®Ÿè£…

```typescript
import { BaseComponentProps, ClickHandler } from '../../../types/components';

interface ButtonProps extends BaseComponentProps {
  variant?: 'primary' | 'secondary' | 'danger';
  size?: 'sm' | 'md' | 'lg';
  disabled?: boolean;
  loading?: boolean;
  onClick?: ClickHandler;
  type?: 'button' | 'submit' | 'reset';
}

export const Button: React.FC<ButtonProps> = ({
  children,
  variant = 'primary',
  size = 'md',
  disabled = false,
  loading = false,
  onClick,
  type = 'button',
  className,
  testId,
  ...props
}) => {
  // ãƒãƒªã‚¢ãƒ³ãƒˆã«å¿œã˜ãŸã‚¹ã‚¿ã‚¤ãƒ«
  const variantClasses = {
    primary: 'bg-blue-600 text-white hover:bg-blue-700',
    secondary: 'bg-gray-200 text-gray-900 hover:bg-gray-300',
    danger: 'bg-red-600 text-white hover:bg-red-700'
  };

  // ã‚µã‚¤ã‚ºã«å¿œã˜ãŸã‚¹ã‚¿ã‚¤ãƒ«
  const sizeClasses = {
    sm: 'px-3 py-1.5 text-sm',
    md: 'px-4 py-2 text-base',
    lg: 'px-6 py-3 text-lg'
  };

  const baseClasses = 'rounded font-medium focus:outline-none focus:ring-2 focus:ring-offset-2';
  
  const classes = [
    baseClasses,
    variantClasses[variant],
    sizeClasses[size],
    disabled && 'opacity-50 cursor-not-allowed',
    className
  ].filter(Boolean).join(' ');

  return (
    <button
      type={type}
      disabled={disabled || loading}
      onClick={onClick}
      className={classes}
      data-testid={testId}
      {...props}
    >
      {loading ? 'Loading...' : children}
    </button>
  );
};
```

### Phase 3: çµ„ã¿åˆã‚ã›ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½œã‚‹

#### 3.1 ãƒ•ã‚©ãƒ¼ãƒ ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

**ãƒ•ã‚¡ã‚¤ãƒ«**: `src/components/molecules/FormField/FormField.tsx`

##### ãªãœãƒ•ã‚©ãƒ¼ãƒ ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½œã‚‹ã®ã‹ï¼Ÿ

å…¥åŠ›ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã«ã¯ã€ãƒ©ãƒ™ãƒ«ã€å…¥åŠ›æ¬„ã€ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãªã©ã€ã„ã¤ã‚‚ã‚»ãƒƒãƒˆã§å¿…è¦ãªè¦ç´ ãŒã‚ã‚Šã¾ã™ã€‚ã“ã‚Œã‚‰ã‚’ã¾ã¨ã‚ãŸã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½œã‚‹ã“ã¨ã§ã€ãƒ•ã‚©ãƒ¼ãƒ ã‚’ç°¡å˜ã«ä½œã‚Œã¾ã™ã€‚

##### åŸºæœ¬çš„ãªå®Ÿè£…

```typescript
import { Input } from '@heroui/react';
import { Text } from '../../atoms/Text/Text';
import { BaseComponentProps, ErrorState } from '../../../types/components';

interface FormFieldProps extends BaseComponentProps, ErrorState {
  label: string;
  placeholder?: string;
  type?: 'text' | 'email' | 'password';
  required?: boolean;
  description?: string;
}

export const FormField: React.FC<FormFieldProps> = ({
  label,
  placeholder,
  type = 'text',
  required = false,
  description,
  error,
  isInvalid,
  className,
  testId,
  ...inputProps
}) => {
  return (
    <div className={`space-y-2 ${className || ''}`}>
      {/* ãƒ©ãƒ™ãƒ« */}
      <Text as="label" weight="medium">
        {label}
        {required && <span className="text-red-500 ml-1">*</span>}
      </Text>

      {/* èª¬æ˜ãƒ†ã‚­ã‚¹ãƒˆ */}
      {description && (
        <Text size="sm" color="muted">
          {description}
        </Text>
      )}

      {/* å…¥åŠ›ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ */}
      <Input
        type={type}
        placeholder={placeholder}
        isRequired={required}
        isInvalid={isInvalid || !!error}
        errorMessage={error}
        data-testid={testId}
        {...inputProps}
      />
    </div>
  );
};
```

##### ä½¿ã„æ–¹ã®ä¾‹

```typescript
// åŸºæœ¬çš„ãªä½¿ã„æ–¹
<FormField
  label="ãƒ¦ãƒ¼ã‚¶ãƒ¼å"
  placeholder="ãƒ¦ãƒ¼ã‚¶ãƒ¼åã‚’å…¥åŠ›ã—ã¦ãã ã•ã„"
  required
/>

// ã‚¨ãƒ©ãƒ¼è¡¨ç¤º
<FormField
  label="ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹"
  type="email"
  error="æ­£ã—ã„ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„"
  isInvalid
/>

// èª¬æ˜ä»˜ã
<FormField
  label="ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰"
  type="password"
  description="8æ–‡å­—ä»¥ä¸Šã§å…¥åŠ›ã—ã¦ãã ã•ã„"
  required
/>
```

#### 3.2 Todoã‚¢ã‚¤ãƒ†ãƒ ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

**ãƒ•ã‚¡ã‚¤ãƒ«**: `src/components/molecules/TodoItem/TodoItem.tsx`

##### åŸºæœ¬çš„ãªå®Ÿè£…

```typescript
import { Card, CardBody, Button, Checkbox } from '@heroui/react';
import { PencilIcon, TrashIcon } from '@heroicons/react/24/outline';
import { Text } from '../../atoms/Text/Text';
import { TodoItemProps } from '../../../types/todo-components';

export const TodoItem: React.FC<TodoItemProps> = ({
  todo,
  onEdit,
  onDelete,
  onToggle,
  testId
}) => {
  return (
    <Card className="w-full" data-testid={testId}>
      <CardBody className="flex flex-row items-start gap-3">
        {/* å®Œäº†ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ */}
        <Checkbox
          isSelected={todo.completed}
          onValueChange={() => onToggle?.(todo.id)}
          aria-label={`${todo.title}ã‚’${todo.completed ? 'æœªå®Œäº†' : 'å®Œäº†'}ã«ã™ã‚‹`}
        />

        {/* Todoå†…å®¹ */}
        <div className="flex-1">
          <Text 
            weight="medium"
            className={todo.completed ? 'line-through text-gray-500' : ''}
          >
            {todo.title}
          </Text>
          
          {todo.description && (
            <Text 
              size="sm" 
              color="muted"
              className={todo.completed ? 'line-through' : ''}
            >
              {todo.description}
            </Text>
          )}
        </div>

        {/* ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒœã‚¿ãƒ³ */}
        <div className="flex gap-2">
          <Button
            isIconOnly
            size="sm"
            variant="light"
            onClick={() => onEdit?.(todo)}
            aria-label={`${todo.title}ã‚’ç·¨é›†`}
          >
            <PencilIcon className="h-4 w-4" />
          </Button>
          
          <Button
            isIconOnly
            size="sm"
            variant="light"
            color="danger"
            onClick={() => onDelete?.(todo.id)}
            aria-label={`${todo.title}ã‚’å‰Šé™¤`}
          >
            <TrashIcon className="h-4 w-4" />
          </Button>
        </div>
      </CardBody>
    </Card>
  );
};
```

#### 3.3 ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¢ãƒã‚¿ãƒ¼ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

**ãƒ•ã‚¡ã‚¤ãƒ«**: `src/components/molecules/UserAvatar/UserAvatar.tsx`

##### ãªãœãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¢ãƒã‚¿ãƒ¼ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½œã‚‹ã®ã‹ï¼Ÿ

ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ã‚’è¡¨ç¤ºã™ã‚‹å ´é¢ã¯å¤šãã‚ã‚Šã¾ã™ï¼ˆãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ã€Todoä½œæˆè€…è¡¨ç¤ºã€ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ãƒšãƒ¼ã‚¸ãªã©ï¼‰ã€‚çµ±ä¸€ã•ã‚ŒãŸãƒ¦ãƒ¼ã‚¶ãƒ¼è¡¨ç¤ºã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½œã‚‹ã“ã¨ã§ã€ãƒ‡ã‚¶ã‚¤ãƒ³ã®ä¸€è²«æ€§ã‚’ä¿ã¦ã¾ã™ã€‚

##### åŸºæœ¬çš„ãªå®Ÿè£…

```typescript
import { Avatar, Chip } from '@heroui/react';
import { UserIcon } from '@heroicons/react/24/outline';
import { Text } from '../../atoms/Text/Text';
import { UserAvatarProps } from '../../../types/user-components';

export const UserAvatar: React.FC<UserAvatarProps> = ({
  user,
  size = 'md',
  showName = true,
  className,
  testId
}) => {
  // ã‚µã‚¤ã‚ºã«å¿œã˜ãŸã‚¢ãƒã‚¿ãƒ¼ã‚µã‚¤ã‚ºã‚’æ±ºã‚ã‚‹
  const avatarSizes = {
    sm: 'w-8 h-8',
    md: 'w-10 h-10',
    lg: 'w-12 h-12'
  };

  // ã‚µã‚¤ã‚ºã«å¿œã˜ãŸãƒ†ã‚­ã‚¹ãƒˆã‚µã‚¤ã‚ºã‚’æ±ºã‚ã‚‹
  const textSizes = {
    sm: 'sm' as const,
    md: 'md' as const,
    lg: 'lg' as const
  };

  return (
    <div 
      className={`flex items-center gap-2 ${className || ''}`}
      data-testid={testId}
    >
      {/* ã‚¢ãƒã‚¿ãƒ¼ç”»åƒ */}
      <Avatar
        size={size}
        name={user.name}
        classNames={{
          base: avatarSizes[size]
        }}
        fallback={<UserIcon className="w-1/2 h-1/2" />}
      />

      {/* ãƒ¦ãƒ¼ã‚¶ãƒ¼å */}
      {showName && (
        <Text size={textSizes[size]} weight="medium">
          {user.name}
        </Text>
      )}
    </div>
  );
};
```

##### ä½¿ã„æ–¹ã®ä¾‹

```typescript
// åŸºæœ¬çš„ãªä½¿ã„æ–¹
<UserAvatar user={currentUser} />

// ã‚µã‚¤ã‚ºã‚’å¤‰æ›´
<UserAvatar user={currentUser} size="lg" />

// åå‰ã‚’éè¡¨ç¤º
<UserAvatar user={currentUser} showName={false} />
```

#### 3.4 ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚«ãƒ¼ãƒ‰ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

**ãƒ•ã‚¡ã‚¤ãƒ«**: `src/components/molecules/UserCard/UserCard.tsx`

##### åŸºæœ¬çš„ãªå®Ÿè£…

```typescript
import { Card, CardBody, Chip } from '@heroui/react';
import { CalendarIcon } from '@heroicons/react/24/outline';
import { UserAvatar } from '../UserAvatar/UserAvatar';
import { Text } from '../../atoms/Text/Text';
import { UserCardProps } from '../../../types/user-components';

export const UserCard: React.FC<UserCardProps> = ({
  user,
  compact = false,
  onClick,
  showTodoCount = false,
  todoCount = 0,
  className,
  testId
}) => {
  const handleClick = () => {
    onClick?.(user);
  };

  return (
    <Card 
      className={`w-full ${onClick ? 'cursor-pointer hover:shadow-md transition-shadow' : ''} ${className || ''}`}
      isPressable={!!onClick}
      onPress={handleClick}
      data-testid={testId}
    >
      <CardBody className={compact ? 'p-3' : 'p-4'}>
        <div className="flex items-start justify-between">
          {/* ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ± */}
          <div className="flex-1">
            <UserAvatar 
              user={user} 
              size={compact ? 'sm' : 'md'}
            />
            
            {!compact && (
              <div className="mt-2 space-y-1">
                <Text size="sm" color="muted">
                  {user.email}
                </Text>
                
                <div className="flex items-center gap-1">
                  <CalendarIcon className="w-3 h-3 text-gray-400" />
                  <Text size="sm" color="muted">
                    {new Date(user.createdAt).toLocaleDateString('ja-JP')}ã«å‚åŠ 
                  </Text>
                </div>
              </div>
            )}
          </div>

          {/* Todoæ•°è¡¨ç¤º */}
          {showTodoCount && (
            <Chip size="sm" variant="flat" color="primary">
              {todoCount} Todo
            </Chip>
          )}
        </div>
      </CardBody>
    </Card>
  );
};
```

##### Userã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ä½¿ã„æ–¹ã®ä¾‹

```typescript
// åŸºæœ¬çš„ãªãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¢ãƒã‚¿ãƒ¼
<UserAvatar user={currentUser} />

// ã‚µã‚¤ã‚ºã‚’å¤‰æ›´ã—ãŸã‚¢ãƒã‚¿ãƒ¼
<UserAvatar user={currentUser} size="lg" />

// åå‰ã‚’éè¡¨ç¤ºã«ã—ãŸã‚¢ãƒã‚¿ãƒ¼
<UserAvatar user={currentUser} showName={false} />

// ã‚³ãƒ³ãƒ‘ã‚¯ãƒˆãªãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚«ãƒ¼ãƒ‰
<UserCard 
  user={user} 
  compact 
  onClick={(user) => console.log('ã‚¯ãƒªãƒƒã‚¯ã•ã‚Œã¾ã—ãŸ:', user.name)}
/>

// Todoæ•°ä»˜ãã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚«ãƒ¼ãƒ‰
<UserCard 
  user={user} 
  showTodoCount 
  todoCount={5}
  onClick={handleUserClick}
/>

// ç·¨é›†å¯èƒ½ãªãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«
<UserProfile 
  user={currentUser} 
  editable 
  onEdit={handleEditUser}
/>

// ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²ãƒ•ã‚©ãƒ¼ãƒ 
<UserForm 
  onSubmit={handleUserCreate}
  submitButtonText="ã‚¢ã‚«ã‚¦ãƒ³ãƒˆä½œæˆ"
/>

// ãƒ¦ãƒ¼ã‚¶ãƒ¼ç·¨é›†ãƒ•ã‚©ãƒ¼ãƒ 
<UserForm 
  initialData={selectedUser}
  onSubmit={handleUserUpdate}
  submitButtonText="æ›´æ–°"
  isEditMode
/>
```
- ã‚¢ã‚¤ã‚³ãƒ³ã¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®æ°´å¹³é…ç½®
- å±é™ºè‰²ï¼ˆdangerï¼‰ã«ã‚ˆã‚‹è¦–è¦šçš„è­¦å‘Š
- ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³å¯¾å¿œã®ã‚³ãƒ³ãƒ†ãƒŠãƒ¼
- é•·ã„ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã§ã®æ”¹è¡Œå¯¾å¿œ

**ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³è¨­è¨ˆ**

**Framer Motion Integration**: ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ©ã‚¤ãƒ–ãƒ©ãƒªçµ±åˆ
- `AnimatePresence` ã«ã‚ˆã‚‹è¦ç´ ã®å‡ºç¾ãƒ»æ¶ˆå¤±åˆ¶å¾¡
- `mode="wait"` ã«ã‚ˆã‚‹å‰ã®è¦ç´ å®Œå…¨æ¶ˆå¤±å¾Œã®è¡¨ç¤º
- ã‚¨ãƒ©ãƒ¼çŠ¶æ…‹å¤‰æ›´æ™‚ã®ã‚¹ãƒ ãƒ¼ã‚ºãªåˆ‡ã‚Šæ›¿ãˆ
- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–ã•ã‚ŒãŸã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³

**Error Animation**: ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³
- `initial: { opacity: 0, y: -10 }` ã«ã‚ˆã‚‹ä¸Šã‹ã‚‰ã®ãƒ•ã‚§ãƒ¼ãƒ‰ã‚¤ãƒ³
- `animate: { opacity: 1, y: 0 }` ã«ã‚ˆã‚‹æœ€çµ‚ä½ç½®ã¸ã®ç§»å‹•
- `exit: { opacity: 0, y: -10 }` ã«ã‚ˆã‚‹ä¸Šã¸ã®ãƒ•ã‚§ãƒ¼ãƒ‰ã‚¢ã‚¦ãƒˆ
- `duration: 0.2` ã«ã‚ˆã‚‹é©åˆ‡ãªé€Ÿåº¦è¨­å®š

**Transition Control**: ãƒˆãƒ©ãƒ³ã‚¸ã‚·ãƒ§ãƒ³åˆ¶å¾¡
- 0.2ç§’ã®é©åˆ‡ãªã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³æ™‚é–“
- ãƒ¦ãƒ¼ã‚¶ãƒ“ãƒªãƒ†ã‚£ã‚’æãªã‚ãªã„é€Ÿåº¦è¨­å®š
- CPUãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã¸ã®é…æ…®
- ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£è¨­å®šã§ã®å‹•ä½œåˆ¶å¾¡

**çŠ¶æ…‹ç®¡ç†è¨­è¨ˆ**

**Error State Management**: ã‚¨ãƒ©ãƒ¼çŠ¶æ…‹ã®çµ±åˆç®¡ç†
- `error` ã¨ `isInvalid` ã®ä¸¡æ–¹å¯¾å¿œ
- `errorMessage` ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã§ã®ä¸Šæ›¸ãå¯èƒ½
- `Boolean()` ã«ã‚ˆã‚‹ç¢ºå®ŸãªçœŸå½å€¤å¤‰æ›
- è¤‡æ•°ã‚¨ãƒ©ãƒ¼æºã®çµ±ä¸€å‡¦ç†

**ID State Management**: IDçŠ¶æ…‹ã®ç®¡ç†
- `useId` ã«ã‚ˆã‚‹è‡ªå‹•ç”ŸæˆID
- `fieldId` ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã§ã®æ‰‹å‹•è¨­å®šå¯¾å¿œ
- èª¬æ˜ãƒ»ã‚¨ãƒ©ãƒ¼ç”¨IDã®æ´¾ç”Ÿç”Ÿæˆ
- undefinedå€¤ã®é©åˆ‡ãªå‡¦ç†

**Required State**: å¿…é ˆçŠ¶æ…‹ã®ç®¡ç†
- `isRequired = false` ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè¨­å®š
- è¦–è¦šçš„ãƒãƒ¼ã‚¯ã®æ¡ä»¶ä»˜ãè¡¨ç¤º
- HeroUIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¸ã®ä¼æ’­
- ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£å±æ€§ã¨ã®é€£æº

**HeroUIçµ±åˆè¨­è¨ˆ**

### Phase 4: ãƒšãƒ¼ã‚¸ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½œã‚‹

#### 4.1 Todoãƒ•ã‚©ãƒ¼ãƒ ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

**ãƒ•ã‚¡ã‚¤ãƒ«**: `src/components/organisms/TodoForm/TodoForm.tsx`

##### åŸºæœ¬çš„ãªå®Ÿè£…

```typescript
import { useState } from 'react';
import { Button } from '@heroui/react';
import { FormField } from '../../molecules/FormField/FormField';
import { TodoFormProps, TodoFormData } from '../../../types/todo-components';

export const TodoForm: React.FC<TodoFormProps> = ({
  initialData,
  onSubmit,
  submitButtonText = 'ä¿å­˜',
  error,
  testId
}) => {
  const [formData, setFormData] = useState<TodoFormData>({
    title: initialData?.title || '',
    description: initialData?.description || ''
  });

  const handleSubmit = (e: React.FormEvent) => {
    e.preventDefault();
    onSubmit(formData);
  };

  const handleChange = (field: keyof TodoFormData) => (value: string) => {
    setFormData(prev => ({ ...prev, [field]: value }));
  };

  return (
    <form onSubmit={handleSubmit} className="space-y-4" data-testid={testId}>
      <FormField
        label="ã‚¿ã‚¤ãƒˆãƒ«"
        placeholder="Todoã®ã‚¿ã‚¤ãƒˆãƒ«ã‚’å…¥åŠ›"
        value={formData.title}
        onValueChange={handleChange('title')}
        required
      />

      <FormField
        label="èª¬æ˜"
        placeholder="è©³ç´°ãªèª¬æ˜ï¼ˆä»»æ„ï¼‰"
        value={formData.description}
        onValueChange={handleChange('description')}
      />

      {error && (
        <div className="text-red-500 text-sm">
          {error}
        </div>
      )}

      <Button
        type="submit"
        color="primary"
        className="w-full"
      >
        {submitButtonText}
      </Button>
    </form>
  );
};
```

#### 4.2 Todoä¸€è¦§ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

**ãƒ•ã‚¡ã‚¤ãƒ«**: `src/components/organisms/TodoList/TodoList.tsx`

##### åŸºæœ¬çš„ãªå®Ÿè£…

```typescript
import { TodoItem } from '../../molecules/TodoItem/TodoItem';
import { Text } from '../../atoms/Text/Text';
import { Todo } from '../../../domain/entities';
import { BaseComponentProps } from '../../../types/components';

interface TodoListProps extends BaseComponentProps {
  todos: Todo[];
  onEdit?: (todo: Todo) => void;
  onDelete?: (id: string) => void;
  onToggle?: (id: string) => void;
  emptyMessage?: string;
}

export const TodoList: React.FC<TodoListProps> = ({
  todos,
  onEdit,
  onDelete,
  onToggle,
  emptyMessage = 'TodoãŒã‚ã‚Šã¾ã›ã‚“',
  testId
}) => {
  if (todos.length === 0) {
    return (
      <div className="text-center py-8" data-testid={testId}>
        <Text color="muted">{emptyMessage}</Text>
      </div>
    );
  }

  return (
    <div className="space-y-3" data-testid={testId}>
      {todos.map((todo) => (
        <TodoItem
          key={todo.id}
          todo={todo}
          onEdit={onEdit}
          onDelete={onDelete}
          onToggle={onToggle}
        />
      ))}
    </div>
  );
};
```

#### 4.3 ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ•ã‚©ãƒ¼ãƒ ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

**ãƒ•ã‚¡ã‚¤ãƒ«**: `src/components/organisms/UserForm/UserForm.tsx`

##### ãªãœãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ•ã‚©ãƒ¼ãƒ ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½œã‚‹ã®ã‹ï¼Ÿ

ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²ã‚„ç·¨é›†ã§ä½¿ã†ãƒ•ã‚©ãƒ¼ãƒ ã‚’ã€å†åˆ©ç”¨å¯èƒ½ãªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¨ã—ã¦ä½œã‚Šã¾ã™ã€‚æ–°è¦ç™»éŒ²ã¨ç·¨é›†ã®ä¸¡æ–¹ã§ä½¿ãˆã‚‹ã‚ˆã†ã«è¨­è¨ˆã—ã¾ã™ã€‚

##### åŸºæœ¬çš„ãªå®Ÿè£…

```typescript
import { useState } from 'react';
import { Button } from '@heroui/react';
import { FormField } from '../../molecules/FormField/FormField';
import { UserFormProps, UserFormData } from '../../../types/user-components';

export const UserForm: React.FC<UserFormProps> = ({
  initialData,
  onSubmit,
  submitButtonText = 'ä¿å­˜',
  isEditMode = false,
  error,
  testId
}) => {
  const [formData, setFormData] = useState<UserFormData>({
    name: initialData?.name || '',
    email: initialData?.email || '',
    password: initialData?.password || ''
  });

  const handleSubmit = (e: React.FormEvent) => {
    e.preventDefault();
    onSubmit(formData);
  };

  const handleChange = (field: keyof UserFormData) => (value: string) => {
    setFormData(prev => ({ ...prev, [field]: value }));
  };

  return (
    <form onSubmit={handleSubmit} className="space-y-4" data-testid={testId}>
      <FormField
        label="ãƒ¦ãƒ¼ã‚¶ãƒ¼å"
        placeholder="ãƒ¦ãƒ¼ã‚¶ãƒ¼åã‚’å…¥åŠ›ã—ã¦ãã ã•ã„"
        value={formData.name}
        onValueChange={handleChange('name')}
        required
      />

      <FormField
        label="ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹"
        type="email"
        placeholder="ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„"
        value={formData.email}
        onValueChange={handleChange('email')}
        required
      />

      {/* ç·¨é›†ãƒ¢ãƒ¼ãƒ‰ã§ãªã„å ´åˆã®ã¿ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’è¡¨ç¤º */}
      {!isEditMode && (
        <FormField
          label="ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰"
          type="password"
          placeholder="ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„"
          description="8æ–‡å­—ä»¥ä¸Šã§å…¥åŠ›ã—ã¦ãã ã•ã„"
          value={formData.password}
          onValueChange={handleChange('password')}
          required
        />
      )}

      {error && (
        <div className="text-red-500 text-sm">
          {error}
        </div>
      )}

      <Button
        type="submit"
        color="primary"
        className="w-full"
      >
        {submitButtonText}
      </Button>
    </form>
  );
};
```

#### 4.4 ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

**ãƒ•ã‚¡ã‚¤ãƒ«**: `src/components/organisms/UserProfile/UserProfile.tsx`

##### åŸºæœ¬çš„ãªå®Ÿè£…

```typescript
import { Card, CardBody, Button, Divider } from '@heroui/react';
import { PencilIcon, CalendarIcon, EnvelopeIcon } from '@heroicons/react/24/outline';
import { UserAvatar } from '../../molecules/UserAvatar/UserAvatar';
import { Text } from '../../atoms/Text/Text';
import { UserProfileProps } from '../../../types/user-components';

export const UserProfile: React.FC<UserProfileProps> = ({
  user,
  showEmail = true,
  showCreatedAt = true,
  editable = false,
  onEdit,
  className,
  testId
}) => {
  return (
    <Card className={`w-full ${className || ''}`} data-testid={testId}>
      <CardBody className="p-6">
        {/* ãƒ˜ãƒƒãƒ€ãƒ¼éƒ¨åˆ† */}
        <div className="flex items-start justify-between mb-4">
          <UserAvatar user={user} size="lg" showName={false} />
          
          {editable && (
            <Button
              size="sm"
              variant="light"
              startContent={<PencilIcon className="h-4 w-4" />}
              onClick={() => onEdit?.(user)}
            >
              ç·¨é›†
            </Button>
          )}
        </div>

        {/* ãƒ¦ãƒ¼ã‚¶ãƒ¼å */}
        <Text size="xl" weight="bold" className="mb-2">
          {user.name}
        </Text>

        <Divider className="my-4" />

        {/* è©³ç´°æƒ…å ± */}
        <div className="space-y-3">
          {showEmail && (
            <div className="flex items-center gap-2">
              <EnvelopeIcon className="w-4 h-4 text-gray-400" />
              <Text size="sm" color="muted">
                {user.email}
              </Text>
            </div>
          )}

          {showCreatedAt && (
            <div className="flex items-center gap-2">
              <CalendarIcon className="w-4 h-4 text-gray-400" />
              <Text size="sm" color="muted">
                {new Date(user.createdAt).toLocaleDateString('ja-JP')}ã«å‚åŠ 
              </Text>
            </div>
          )}
        </div>
      </CardBody>
    </Card>
  );
};
```

#### 4.5 ãƒ¦ãƒ¼ã‚¶ãƒ¼ä¸€è¦§ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

**ãƒ•ã‚¡ã‚¤ãƒ«**: `src/components/organisms/UserList/UserList.tsx`

##### åŸºæœ¬çš„ãªå®Ÿè£…

```typescript
import { UserCard } from '../../molecules/UserCard/UserCard';
import { Text } from '../../atoms/Text/Text';
import { User } from '../../../domain/entities';
import { BaseComponentProps } from '../../../types/components';

interface UserListProps extends BaseComponentProps {
  users: User[];
  onUserClick?: (user: User) => void;
  showTodoCount?: boolean;
  todoCountMap?: Record<string, number>; // ãƒ¦ãƒ¼ã‚¶ãƒ¼IDã‚’ã‚­ãƒ¼ã«ã—ãŸTodoæ•°ã®ãƒãƒƒãƒ—
  compact?: boolean;
  emptyMessage?: string;
}

export const UserList: React.FC<UserListProps> = ({
  users,
  onUserClick,
  showTodoCount = false,
  todoCountMap = {},
  compact = false,
  emptyMessage = 'ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã„ã¾ã›ã‚“',
  testId
}) => {
  if (users.length === 0) {
    return (
      <div className="text-center py-8" data-testid={testId}>
        <Text color="muted">{emptyMessage}</Text>
      </div>
    );
  }

  return (
    <div className="space-y-3" data-testid={testId}>
      {users.map((user) => (
        <UserCard
          key={user.id}
          user={user}
          compact={compact}
          onClick={onUserClick}
          showTodoCount={showTodoCount}
          todoCount={todoCountMap[user.id] || 0}
        />
      ))}
    </div>
  );
};
```

## ğŸ“ å®Ÿè£…ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

### Phase 1: å‹å®šç¾©
- [ ] `src/types/components.ts` ã‚’ä½œæˆ
- [ ] `src/types/todo-components.ts` ã‚’ä½œæˆ
- [ ] `src/types/user-components.ts` ã‚’ä½œæˆ
- [ ] åŸºæœ¬çš„ãªå‹å®šç¾©ã‚’å®Ÿè£…
- [ ] Todoãƒ‰ãƒ¡ã‚¤ãƒ³ã®å‹å®šç¾©ã‚’å®Ÿè£…
- [ ] Userãƒ‰ãƒ¡ã‚¤ãƒ³ã®å‹å®šç¾©ã‚’å®Ÿè£…

### Phase 2: ã‚¢ãƒˆãƒŸãƒƒã‚¯ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
- [ ] `src/components/atoms/Text/Text.tsx` ã‚’ä½œæˆ
- [ ] `src/components/atoms/Button/Button.tsx` ã‚’ä½œæˆ
- [ ] åŸºæœ¬çš„ãªã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°ã‚’å®Ÿè£…

### Phase 3: åˆ†å­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
- [ ] `src/components/molecules/FormField/FormField.tsx` ã‚’ä½œæˆ
- [ ] `src/components/molecules/TodoItem/TodoItem.tsx` ã‚’ä½œæˆ
- [ ] `src/components/molecules/UserAvatar/UserAvatar.tsx` ã‚’ä½œæˆ
- [ ] `src/components/molecules/UserCard/UserCard.tsx` ã‚’ä½œæˆ
- [ ] ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆé–“ã®é€£æºã‚’ç¢ºèª

### Phase 4: ç”Ÿç‰©ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
- [ ] `src/components/organisms/TodoForm/TodoForm.tsx` ã‚’ä½œæˆ
- [ ] `src/components/organisms/TodoList/TodoList.tsx` ã‚’ä½œæˆ
- [ ] `src/components/organisms/UserForm/UserForm.tsx` ã‚’ä½œæˆ
- [ ] `src/components/organisms/UserProfile/UserProfile.tsx` ã‚’ä½œæˆ
- [ ] `src/components/organisms/UserList/UserList.tsx` ã‚’ä½œæˆ
- [ ] å…¨ä½“ã®å‹•ä½œã‚’ç¢ºèª

## ğŸ¯ æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—

ã“ã® STEP 4 ã‚’å®Œäº†ã—ãŸã‚‰ã€STEP 5 ã§çŠ¶æ…‹ç®¡ç†ï¼ˆRedux Toolkit ã‚„ Zustandï¼‰ã‚’å­¦ç¿’ã—ã€ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆé–“ã§ã®ãƒ‡ãƒ¼ã‚¿ã®ã‚„ã‚Šå–ã‚Šã‚’ã‚ˆã‚ŠåŠ¹ç‡çš„ã«è¡Œãˆã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

## ğŸ’¡ å­¦ç¿’ã®ãƒã‚¤ãƒ³ãƒˆ

1. **å°ã•ãå§‹ã‚ã‚‹**: ä¸€åº¦ã«ã™ã¹ã¦ã‚’å®Ÿè£…ã—ã‚ˆã†ã¨ã›ãšã€ä¸€ã¤ãšã¤ç¢ºå®Ÿã«
2. **å‹ã‚’æ´»ç”¨ã™ã‚‹**: TypeScriptã®å‹ã‚·ã‚¹ãƒ†ãƒ ã‚’ä½¿ã£ã¦é–“é•ã„ã‚’é˜²ã
3. **å†åˆ©ç”¨ã‚’æ„è­˜ã™ã‚‹**: åŒã˜ã‚ˆã†ãªã‚³ãƒ¼ãƒ‰ã‚’æ›¸ãã¨ãã¯ã€ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«ã§ããªã„ã‹è€ƒãˆã‚‹
4. **ãƒ†ã‚¹ãƒˆã—ãªãŒã‚‰é€²ã‚ã‚‹**: ä½œã£ãŸã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒæ­£ã—ãå‹•ãã‹ç¢ºèªã—ãªãŒã‚‰é€²ã‚ã‚‹
5. **ãƒ‰ãƒ¡ã‚¤ãƒ³åˆ†é›¢**: é–¢é€£ã™ã‚‹å‹å®šç¾©ã¯ãƒ‰ãƒ¡ã‚¤ãƒ³ã”ã¨ã«ãƒ•ã‚¡ã‚¤ãƒ«ã‚’åˆ†ã‘ã‚‹

### ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆã¨ãƒ‰ãƒ¡ã‚¤ãƒ³åˆ†é›¢

**å‹å®šç¾©ãƒ•ã‚¡ã‚¤ãƒ«ã®åˆ†é›¢**: ãƒ‰ãƒ¡ã‚¤ãƒ³ã”ã¨ã®è²¬å‹™åˆ†æ‹…
- `components.ts`: å…¨ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå…±é€šã®åŸºæœ¬å‹
- `todo-components.ts`: Todoãƒ‰ãƒ¡ã‚¤ãƒ³å°‚ç”¨ã®å‹å®šç¾©
- `user-components.ts`: Userãƒ‰ãƒ¡ã‚¤ãƒ³å°‚ç”¨ã®å‹å®šç¾©
- å°†æ¥çš„ãªæ‹¡å¼µï¼ˆä¾‹ï¼š`project-components.ts`ï¼‰ã¸ã®å¯¾å¿œ

**ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹æ€§ã®å‘ä¸Š**: å¤‰æ›´å½±éŸ¿ã®å±€æ‰€åŒ–
- Todoãƒ‰ãƒ¡ã‚¤ãƒ³ã®å¤‰æ›´ãŒUserãƒ‰ãƒ¡ã‚¤ãƒ³ã«å½±éŸ¿ã—ãªã„
- å‹å®šç¾©ã®å¤‰æ›´ç®‡æ‰€ãŒæ˜ç¢º
- ä¸è¦ãªimportã®å‰Šæ¸›
- ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºã®é©åˆ‡ãªç®¡ç†

### Userãƒ‰ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ç‰¹å¾´

**ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¢ãƒã‚¿ãƒ¼**: ä¸€è²«æ€§ã®ã‚ã‚‹ãƒ¦ãƒ¼ã‚¶ãƒ¼è¡¨ç¤º
- ã‚µã‚¤ã‚ºå¤‰æ›´å¯èƒ½ãªçµ±ä¸€ãƒ‡ã‚¶ã‚¤ãƒ³
- ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ã«é…æ…®ã—ãŸãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯
- è¡¨ç¤ºã‚ªãƒ—ã‚·ãƒ§ãƒ³ã®ç´°ã‹ã„åˆ¶å¾¡
- è¤‡æ•°ç®‡æ‰€ã§ã®å†åˆ©ç”¨ã‚’å‰æã¨ã—ãŸè¨­è¨ˆ

**ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚«ãƒ¼ãƒ‰**: æŸ”è»Ÿãªæƒ…å ±è¡¨ç¤º
- ã‚³ãƒ³ãƒ‘ã‚¯ãƒˆè¡¨ç¤ºã¨è©³ç´°è¡¨ç¤ºã®åˆ‡ã‚Šæ›¿ãˆ
- ã‚¯ãƒªãƒƒã‚¯å¯èƒ½ãªã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³
- Todoæ•°ãªã©è¿½åŠ æƒ…å ±ã®è¡¨ç¤ºå¯¾å¿œ
- ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³ã¸ã®å¯¾å¿œ

**ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ•ã‚©ãƒ¼ãƒ **: æ–°è¦ãƒ»ç·¨é›†ä¸¡å¯¾å¿œ
- æ–°è¦ç™»éŒ²ã¨ç·¨é›†ãƒ¢ãƒ¼ãƒ‰ã®ä½¿ã„åˆ†ã‘
- ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®æ¡ä»¶ä»˜ãè¡¨ç¤º
- ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³çµæœã®é©åˆ‡ãªè¡¨ç¤º
- ãƒ•ã‚©ãƒ¼ãƒ é€ä¿¡å¾Œã®çŠ¶æ…‹ç®¡ç†

**ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«**: æƒ…å ±ã®ä½“ç³»çš„è¡¨ç¤º
- ç·¨é›†å¯èƒ½ãƒ»ä¸å¯èƒ½ã®çŠ¶æ…‹ç®¡ç†
- éšå±¤çš„ãªæƒ…å ±æ§‹é€ ã®è¡¨ç¾
- ã‚¢ã‚¤ã‚³ãƒ³ã‚’ä½¿ã£ãŸè¦–è¦šçš„åˆ†é¡
- ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼é…æ…®ã®è¡¨ç¤ºåˆ¶å¾¡

### ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆè¨­è¨ˆã®å®Ÿè·µçš„ãƒã‚¤ãƒ³ãƒˆ

**Propsè¨­è¨ˆ**: ä½¿ã„ã‚„ã™ã„APIè¨­è¨ˆ
- ã‚ªãƒ—ã‚·ãƒ§ãƒ³ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã®é©åˆ‡ãªåˆæœŸå€¤
- æ©Ÿèƒ½ã®æ®µéšçš„ãªæœ‰åŠ¹åŒ–
- å‹å®‰å…¨æ€§ã‚’ä¿ã£ãŸprop-typeså®šç¾©
- ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆé–“ã®ä¾å­˜é–¢ä¿‚ã®æœ€å°åŒ–

**çŠ¶æ…‹ç®¡ç†**: é©åˆ‡ãªè²¬ä»»åˆ†æ•£
- ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå†…éƒ¨çŠ¶æ…‹vså¤–éƒ¨çŠ¶æ…‹ã®åˆ¤æ–­
- ã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã®å§”è­²ãƒ‘ã‚¿ãƒ¼ãƒ³
- ãƒ•ã‚©ãƒ¼ãƒ ãƒ‡ãƒ¼ã‚¿ã®åŠ¹ç‡çš„ãªç®¡ç†
- ã‚¨ãƒ©ãƒ¼çŠ¶æ…‹ã®ä¸€å…ƒçš„ãªå‡¦ç†

**ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹**: å®Ÿç”¨çš„ãªæœ€é©åŒ–
- å¤§é‡ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã§ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ç¢ºä¿
- ãƒ¡ãƒ¢ãƒªåŠ¹ç‡çš„ãªå®Ÿè£…

**ID Generation Optimization**: IDç”Ÿæˆæœ€é©åŒ–
- `useId` ã«ã‚ˆã‚‹åŠ¹ç‡çš„ãªä¸€æ„IDç”Ÿæˆ
- ä¸è¦ãªå†ç”Ÿæˆã®é˜²æ­¢
- SSRã¨CSRã§ã®ä¸€è²«æ€§ç¢ºä¿
- ãƒã‚¤ãƒ‰ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å•é¡Œã®å›é¿

**Animation Performance**: ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³æœ€é©åŒ–
- GPUåŠ é€Ÿã«ã‚ˆã‚‹ã‚¹ãƒ ãƒ¼ã‚ºãªã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³
- ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚·ãƒ•ãƒˆã®æœ€å°åŒ–
- 60FPSã§ã®æ»‘ã‚‰ã‹ãªå‹•ä½œ
- ãƒãƒƒãƒ†ãƒªãƒ¼åŠ¹ç‡ã®è€ƒæ…®

**ä¿å®ˆæ€§å‘ä¸Š**

**Single Responsibility**: å˜ä¸€è²¬ä»»åŸå‰‡
- ãƒ•ã‚©ãƒ¼ãƒ ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®çµ±åˆè¡¨ç¤ºã«ç‰¹åŒ–
- å…¥åŠ›æ¤œè¨¼ãƒ­ã‚¸ãƒƒã‚¯ã®å¤–éƒ¨åŒ–
- ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ã¨ã®é©åˆ‡ãªåˆ†é›¢
- UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¨ã—ã¦ã®è²¬å‹™æ˜ç¢ºåŒ–

**Type Safety**: å‹å®‰å…¨æ€§ç¢ºä¿
- å…¨ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã®å‹å®šç¾©
- HeroUIã¨ã®å‹äº’æ›æ€§ç¢ºä¿
- å®Ÿè¡Œæ™‚ã‚¨ãƒ©ãƒ¼ã®äº‹å‰é˜²æ­¢
- IDEæ”¯æ´ã«ã‚ˆã‚‹é–‹ç™ºåŠ¹ç‡å‘ä¸Š

**Testing Support**: ãƒ†ã‚¹ãƒˆå¯¾å¿œ
- `data-testid` ã«ã‚ˆã‚‹è¦ç´ ç‰¹å®š
- ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ãƒ†ã‚¹ãƒˆã®å®¹æ˜“åŒ–
- å˜ä½“ãƒ†ã‚¹ãƒˆã§ã®åˆ†é›¢å®Ÿè¡Œ
- E2Eãƒ†ã‚¹ãƒˆã§ã®å®‰å®šã—ãŸè¦ç´ é¸æŠ

**Documentation**: ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆåŒ–
- ä½¿ç”¨ãƒ‘ã‚¿ãƒ¼ãƒ³ã®æ˜æ–‡åŒ–
- ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³
- HeroUIçµ±åˆãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹
- ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºæ–¹æ³•ã®èª¬æ˜
