# Library Tests

ã“ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã¯ã€`src/lib` é…ä¸‹ã®å…¨ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã«å¯¾ã™ã‚‹ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆã‚¹ã‚¤ãƒ¼ãƒˆã‚’æ ¼ç´ã—ã¦ã„ã¾ã™ã€‚100%ã®ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸ã‚’ç¶­æŒã—ã€ãƒ©ã‚¤ãƒ–ãƒ©ãƒªå±¤ã®å“è³ªã¨ä¿¡é ¼æ€§ã‚’ä¿è¨¼ã—ã¾ã™ã€‚

## æ¦‚è¦

ãƒ©ã‚¤ãƒ–ãƒ©ãƒªå±¤ã®ãƒ†ã‚¹ãƒˆã‚¹ã‚¤ãƒ¼ãƒˆã¯ã€ä»¥ä¸‹ã®åŸå‰‡ã«åŸºã¥ã„ã¦è¨­è¨ˆã•ã‚Œã¦ã„ã¾ã™ï¼š

- **åŒ…æ‹¬çš„ã‚«ãƒãƒ¬ãƒƒã‚¸**: å…¨ã¦ã®é–¢æ•°ã€åˆ†å²ã€æ¡ä»¶ã‚’ç¶²ç¾…
- **ãƒ¢ãƒƒã‚¯é§†å‹•ãƒ†ã‚¹ãƒˆ**: å¤–éƒ¨ä¾å­˜é–¢ä¿‚ã®é©åˆ‡ãªãƒ¢ãƒƒã‚¯åŒ–
- **å‹å®‰å…¨æ€§**: TypeScriptå‹ã‚·ã‚¹ãƒ†ãƒ ã‚’æ´»ç”¨ã—ãŸãƒ†ã‚¹ãƒˆ
- **ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°**: ç•°å¸¸ç³»ã®å¾¹åº•çš„ãªæ¤œè¨¼
- **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹**: é«˜é€Ÿãªå®Ÿè¡Œæ™‚é–“ã®ç¶­æŒ

## ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆ

```
src/lib/__tests__/
â”œâ”€â”€ auth-middleware.test.ts  # èªè¨¼ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ãƒ†ã‚¹ãƒˆ
â”œâ”€â”€ container.test.ts        # ä¾å­˜æ€§æ³¨å…¥ã‚³ãƒ³ãƒ†ãƒŠãƒ†ã‚¹ãƒˆ
â”œâ”€â”€ jwt.test.ts             # JWT ã‚µãƒ¼ãƒ“ã‚¹ãƒ†ã‚¹ãƒˆ
â”œâ”€â”€ response.test.ts        # API ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãƒ˜ãƒ«ãƒ‘ãƒ¼ãƒ†ã‚¹ãƒˆ
â”œâ”€â”€ validation.test.ts      # ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³å†ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆãƒ†ã‚¹ãƒˆ
â””â”€â”€ README.md              # ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«
```

## ãƒ†ã‚¹ãƒˆã‚¹ã‚¤ãƒ¼ãƒˆè©³ç´°

### ğŸ” AuthMiddleware Tests (`auth-middleware.test.ts`)

**ç›®çš„**: JWTèªè¨¼ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ã®åŒ…æ‹¬çš„ãƒ†ã‚¹ãƒˆ

**ãƒ†ã‚¹ãƒˆç¯„å›²**:
- æœ‰åŠ¹ãªJWTãƒˆãƒ¼ã‚¯ãƒ³ã®èªè¨¼æˆåŠŸ
- ç„¡åŠ¹ãªãƒˆãƒ¼ã‚¯ãƒ³ã®èªè¨¼å¤±æ•—
- Authorizationãƒ˜ãƒƒãƒ€ãƒ¼ã®æŠ½å‡º
- Bearerå½¢å¼ã®æ¤œè¨¼
- ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°

**ä¸»è¦ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹**:
```typescript
describe('AuthMiddleware', () => {
  it('æœ‰åŠ¹ãªãƒˆãƒ¼ã‚¯ãƒ³ã§èªè¨¼ãŒæˆåŠŸã™ã‚‹')
  it('ç„¡åŠ¹ãªãƒˆãƒ¼ã‚¯ãƒ³ã§èªè¨¼ãŒå¤±æ•—ã™ã‚‹')
  it('Authorizationãƒ˜ãƒƒãƒ€ãƒ¼ãŒç„¡ã„å ´åˆã®å‡¦ç†')
  it('ä¸æ­£ãªå½¢å¼ã®ãƒˆãƒ¼ã‚¯ãƒ³ã®æ‹’å¦')
  it('JWTæ¤œè¨¼ã‚¨ãƒ©ãƒ¼ã®é©åˆ‡ãªå‡¦ç†')
});
```

**ãƒ¢ãƒƒã‚¯å¯¾è±¡**: JWTService

### ğŸ“¦ Container Tests (`container.test.ts`)

**ç›®çš„**: ä¾å­˜æ€§æ³¨å…¥ã‚³ãƒ³ãƒ†ãƒŠã®Singletonãƒ‘ã‚¿ãƒ¼ãƒ³ã¨ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ç®¡ç†ã®ãƒ†ã‚¹ãƒˆ

**ãƒ†ã‚¹ãƒˆç¯„å›²**:
- Singletonãƒ‘ã‚¿ãƒ¼ãƒ³ã®å®Ÿè£…æ¤œè¨¼
- ä¾å­˜é–¢ä¿‚ã®æ­£ã—ã„æ³¨å…¥
- ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹åˆæœŸåŒ–ã®ç¢ºèª
- è¤‡æ•°å›å–å¾—æ™‚ã®åŒä¸€æ€§ä¿è¨¼
- å…¨ã‚µãƒ¼ãƒ“ã‚¹ã®é©åˆ‡ãªç”Ÿæˆ

**ä¸»è¦ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹**:
```typescript
describe('Container', () => {
  it('Singleton ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãŒæ­£ã—ãå‹•ä½œã™ã‚‹')
  it('åŒã˜ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãŒè¿”ã•ã‚Œã‚‹')
  it('å…¨ã¦ã®ä¾å­˜é–¢ä¿‚ãŒæ­£ã—ãæ³¨å…¥ã•ã‚Œã‚‹')
  it('ãƒªãƒã‚¸ãƒˆãƒªãŒæ­£ã—ãåˆæœŸåŒ–ã•ã‚Œã‚‹')
  it('ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ãŒæ­£ã—ãåˆæœŸåŒ–ã•ã‚Œã‚‹')
});
```

**ãƒ¢ãƒƒã‚¯å¯¾è±¡**: PostgresRepositories, JWTService, UseCases

### ğŸ”‘ JWT Service Tests (`jwt.test.ts`)

**ç›®çš„**: JWT ãƒˆãƒ¼ã‚¯ãƒ³ã®ç”Ÿæˆãƒ»æ¤œè¨¼ãƒ»è§£ææ©Ÿèƒ½ã®ãƒ†ã‚¹ãƒˆ

**ãƒ†ã‚¹ãƒˆç¯„å›²**:
- ãƒˆãƒ¼ã‚¯ãƒ³ç”Ÿæˆã®æˆåŠŸ
- æ§˜ã€…ãªãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ­ãƒ¼ãƒ«ã§ã®ç”Ÿæˆ
- ãƒˆãƒ¼ã‚¯ãƒ³æ¤œè¨¼ã®æˆåŠŸãƒ»å¤±æ•—
- ä¸æ­£ãªãƒˆãƒ¼ã‚¯ãƒ³ã®å‡¦ç†
- ãƒ˜ãƒƒãƒ€ãƒ¼æŠ½å‡ºã®å‹•ä½œ

**ä¸»è¦ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹**:
```typescript
describe('JWTService', () => {
  it('æœ‰åŠ¹ãªãƒ¦ãƒ¼ã‚¶ãƒ¼ã§ãƒˆãƒ¼ã‚¯ãƒ³ã‚’ç”Ÿæˆã™ã‚‹')
  it('ç®¡ç†è€…ãƒ¦ãƒ¼ã‚¶ãƒ¼ã§ãƒˆãƒ¼ã‚¯ãƒ³ã‚’ç”Ÿæˆã™ã‚‹')
  it('æœ‰åŠ¹ãªãƒˆãƒ¼ã‚¯ãƒ³ã®æ¤œè¨¼ãŒæˆåŠŸã™ã‚‹')
  it('ç„¡åŠ¹ãªãƒˆãƒ¼ã‚¯ãƒ³ã®æ¤œè¨¼ãŒå¤±æ•—ã™ã‚‹')
  it('Bearerãƒˆãƒ¼ã‚¯ãƒ³ã®æŠ½å‡ºãŒæ­£ã—ãå‹•ä½œã™ã‚‹')
});
```

**ãƒ¢ãƒƒã‚¯å¯¾è±¡**: jose ãƒ©ã‚¤ãƒ–ãƒ©ãƒª (jest.setup.ts ã§è¨­å®š)

### ğŸ“¤ Response Tests (`response.test.ts`)

**ç›®çš„**: API ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãƒ˜ãƒ«ãƒ‘ãƒ¼é–¢æ•°ã®çµ±ä¸€å½¢å¼ã¨HTTPã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚³ãƒ¼ãƒ‰ã®ãƒ†ã‚¹ãƒˆ

**ãƒ†ã‚¹ãƒˆç¯„å›²**:
- æˆåŠŸãƒ¬ã‚¹ãƒãƒ³ã‚¹ (200 OK) ã®ç”Ÿæˆ
- ã‚¨ãƒ©ãƒ¼ãƒ¬ã‚¹ãƒãƒ³ã‚¹ (400, 401, 403, 404, 500) ã®ç”Ÿæˆ
- ãƒ¬ã‚¹ãƒãƒ³ã‚¹å½¢å¼ã®æ¤œè¨¼
- HTTPã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚³ãƒ¼ãƒ‰ã®ç¢ºèª
- ãƒ¬ã‚¬ã‚·ãƒ¼ã‚µãƒãƒ¼ãƒˆã®å‹•ä½œ

**ä¸»è¦ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹**:
```typescript
describe('Response Helpers', () => {
  it('æˆåŠŸãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’æ­£ã—ãç”Ÿæˆã™ã‚‹')
  it('ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒ©ãƒ¼ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’ç”Ÿæˆã™ã‚‹')
  it('èªè¨¼ã‚¨ãƒ©ãƒ¼ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’ç”Ÿæˆã™ã‚‹')
  it('èªå¯ã‚¨ãƒ©ãƒ¼ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’ç”Ÿæˆã™ã‚‹')
  it('Not Foundã‚¨ãƒ©ãƒ¼ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’ç”Ÿæˆã™ã‚‹')
  it('å†…éƒ¨ã‚µãƒ¼ãƒãƒ¼ã‚¨ãƒ©ãƒ¼ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’ç”Ÿæˆã™ã‚‹')
});
```

**ãƒ¢ãƒƒã‚¯å¯¾è±¡**: NextResponse

### âœ… Validation Tests (`validation.test.ts`)

**ç›®çš„**: ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³å†ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®å¾Œæ–¹äº’æ›æ€§ã¨ã‚¨ã‚¤ãƒªã‚¢ã‚¹æ©Ÿèƒ½ã®ãƒ†ã‚¹ãƒˆ

**ãƒ†ã‚¹ãƒˆç¯„å›²**:
- å‹å®šç¾©ã®å†ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ
- ã‚¹ã‚­ãƒ¼ãƒã®å†ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ
- ãƒ¬ã‚¬ã‚·ãƒ¼ã‚¨ã‚¤ãƒªã‚¢ã‚¹ã®å‹•ä½œ
- å¾Œæ–¹äº’æ›æ€§ã®ç¢ºèª
- å…ƒãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã¨ã®ä¸€è‡´æ€§

**ä¸»è¦ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹**:
```typescript
describe('Validation Module', () => {
  it('CreateTodoValidation å‹ãŒæ­£ã—ãå†ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã‚‹')
  it('createTodoSchema ãŒæ­£ã—ãå†ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã‚‹')
  it('ãƒ¬ã‚¬ã‚·ãƒ¼ã‚¨ã‚¤ãƒªã‚¢ã‚¹ãŒæ­£å¸¸ã«å‹•ä½œã™ã‚‹')
  it('å…ƒã® types/validation ã¨åŒã˜ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’è¿”ã™')
});
```

**ãƒ¢ãƒƒã‚¯å¯¾è±¡**: ãªã—ï¼ˆpure module re-export testsï¼‰

## ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ

### å…¨ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
```bash
npm test src/lib/__tests__
```

### å€‹åˆ¥ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
```bash
# èªè¨¼ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ã®ã¿
npm test src/lib/__tests__/auth-middleware.test.ts

# ã‚³ãƒ³ãƒ†ãƒŠã®ã¿
npm test src/lib/__tests__/container.test.ts

# JWTã‚µãƒ¼ãƒ“ã‚¹ã®ã¿
npm test src/lib/__tests__/jwt.test.ts

# ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãƒ˜ãƒ«ãƒ‘ãƒ¼ã®ã¿
npm test src/lib/__tests__/response.test.ts

# ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã®ã¿
npm test src/lib/__tests__/validation.test.ts
```

### ã‚«ãƒãƒ¬ãƒƒã‚¸ä»˜ããƒ†ã‚¹ãƒˆ
```bash
npm test -- --coverage src/lib/__tests__
```

## ãƒ†ã‚¹ãƒˆç’°å¢ƒè¨­å®š

### Jest è¨­å®š
- **ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯**: Jest
- **ç’°å¢ƒ**: Node.js with polyfills
- **TypeScript**: ts-jest
- **ãƒ¢ãƒƒã‚¯**: jest.mock()

### ã‚°ãƒ­ãƒ¼ãƒãƒ«è¨­å®š (jest.setup.ts)
```typescript
// Web API polyfills
Object.assign(global, { 
  TextDecoder, 
  TextEncoder 
});

// jose ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ãƒ¢ãƒƒã‚¯
jest.mock('jose');
```

### ç’°å¢ƒå¤‰æ•°
```bash
# ãƒ†ã‚¹ãƒˆç’°å¢ƒç”¨ã®ç’°å¢ƒå¤‰æ•°
NODE_ENV=test
JWT_SECRET=test-secret-key
```

## ãƒ¢ãƒƒã‚¯æˆ¦ç•¥

### 1. å¤–éƒ¨ãƒ©ã‚¤ãƒ–ãƒ©ãƒª
- **jose**: JWT operations
- **next/server**: NextResponse
- **bcryptjs**: Password hashing

### 2. ã‚¤ãƒ³ãƒ•ãƒ©ã‚¹ãƒˆãƒ©ã‚¯ãƒãƒ£
- **Database Connection**: PostgreSQLæ¥ç¶š
- **Repositories**: ãƒ‡ãƒ¼ã‚¿ã‚¢ã‚¯ã‚»ã‚¹å±¤

### 3. ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯
- **Use Cases**: ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ­ã‚¸ãƒƒã‚¯
- **Services**: å¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹é€£æº

## ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿

### ã‚µãƒ³ãƒ—ãƒ«ãƒ¦ãƒ¼ã‚¶ãƒ¼
```typescript
const mockUser: JWTPayload = {
  userId: 'user-123',
  username: 'testuser',
  role: 1,
};

const adminUser: User = {
  id: '2',
  username: 'admin',
  role: UserRole.ADMIN,
  // ... other fields
};
```

### ã‚µãƒ³ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆ
```typescript
const createMockRequest = (headers: Record<string, string> = {}) => ({
  headers: {
    get: jest.fn((name: string) => headers[name.toLowerCase()] || null),
  },
}) as unknown as NextRequest;
```

## ã‚¨ãƒ©ãƒ¼ãƒ†ã‚¹ãƒˆãƒ‘ã‚¿ãƒ¼ãƒ³

### 1. èªè¨¼ã‚¨ãƒ©ãƒ¼
- ç„¡åŠ¹ãªãƒˆãƒ¼ã‚¯ãƒ³
- æœŸé™åˆ‡ã‚Œãƒˆãƒ¼ã‚¯ãƒ³
- ä¸æ­£ãªå½¢å¼

### 2. ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒ©ãƒ¼
- ä¸æ­£ãªãƒ‡ãƒ¼ã‚¿å½¢å¼
- å¿…é ˆãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®æ¬ å¦‚
- å‹ä¸ä¸€è‡´

### 3. ã‚·ã‚¹ãƒ†ãƒ ã‚¨ãƒ©ãƒ¼
- ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶šã‚¨ãƒ©ãƒ¼
- å¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹ã‚¨ãƒ©ãƒ¼
- äºˆæœŸã—ãªã„ä¾‹å¤–

## ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æŒ‡æ¨™

### ãƒ†ã‚¹ãƒˆå®Ÿè¡Œæ™‚é–“
- **å…¨ãƒ†ã‚¹ãƒˆ**: < 5ç§’
- **å€‹åˆ¥ãƒ•ã‚¡ã‚¤ãƒ«**: < 1ç§’
- **ã‚«ãƒãƒ¬ãƒƒã‚¸ä»˜ã**: < 10ç§’

### ã‚«ãƒãƒ¬ãƒƒã‚¸ç›®æ¨™
- **Statements**: 100%
- **Branches**: 100%
- **Functions**: 100%
- **Lines**: 100%

## CI/CD çµ±åˆ

### GitHub Actions
```yaml
- name: Run Library Tests
  run: npm test src/lib/__tests__
  
- name: Upload Coverage
  uses: codecov/codecov-action@v3
  with:
    files: ./coverage/lcov.info
```

### å“è³ªã‚²ãƒ¼ãƒˆ
- ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸: 100%å¿…é ˆ
- å…¨ãƒ†ã‚¹ãƒˆé€šé: å¿…é ˆ
- Lint ã‚¨ãƒ©ãƒ¼: ã‚¼ãƒ­å¿…é ˆ

## ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ã‚ˆãã‚ã‚‹å•é¡Œ

#### 1. TextEncoder/TextDecoder ã‚¨ãƒ©ãƒ¼
```bash
# è§£æ±ºç­–: jest.setup.ts ã§polyfillã‚’è¨­å®š
Object.assign(global, { TextDecoder, TextEncoder });
```

#### 2. JWT ãƒ¢ãƒƒã‚¯ã‚¨ãƒ©ãƒ¼
```bash
# è§£æ±ºç­–: jest.setup.ts ã§joseãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ãƒ¢ãƒƒã‚¯åŒ–
jest.mock('jose');
```

#### 3. NextResponse ãƒ¢ãƒƒã‚¯ã‚¨ãƒ©ãƒ¼
```bash
# è§£æ±ºç­–: ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«å†…ã§NextResponseã‚’ãƒ¢ãƒƒã‚¯åŒ–
jest.mock('next/server');
```

### ãƒ‡ãƒãƒƒã‚°æ–¹æ³•

#### è©³ç´°ãƒ­ã‚°å‡ºåŠ›
```bash
npm test -- --verbose src/lib/__tests__
```

#### ç‰¹å®šãƒ†ã‚¹ãƒˆã®ãƒ‡ãƒãƒƒã‚°
```bash
npm test -- --testNamePattern="ç‰¹å®šã®ãƒ†ã‚¹ãƒˆå"
```

#### ã‚«ãƒãƒ¬ãƒƒã‚¸ã®è©³ç´°ç¢ºèª
```bash
npm test -- --coverage --coverageDirectory=coverage-lib src/lib/__tests__
```

## ç¶™ç¶šçš„æ”¹å–„

### ä»Šå¾Œã®äºˆå®š
- [ ] E2Eãƒ†ã‚¹ãƒˆã¨ã®çµ±åˆ
- [ ] ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆã®è¿½åŠ 
- [ ] è¦–è¦šçš„å›å¸°ãƒ†ã‚¹ãƒˆã®å°å…¥
- [ ] APIã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆãƒ†ã‚¹ãƒˆã®çµ±åˆ

### ãƒ¡ãƒˆãƒªã‚¯ã‚¹ç›£è¦–
- ãƒ†ã‚¹ãƒˆå®Ÿè¡Œæ™‚é–“ã®æ¨ç§»
- ã‚«ãƒãƒ¬ãƒƒã‚¸ã®å¤‰å‹•
- å¤±æ•—ç‡ã®è¿½è·¡
- æŠ€è¡“çš„è² å‚µã®æ¸¬å®š

---

ã“ã®ãƒ†ã‚¹ãƒˆã‚¹ã‚¤ãƒ¼ãƒˆã¯ã€`src/lib` ãƒ©ã‚¤ãƒ–ãƒ©ãƒªå±¤ã®å“è³ªã¨ä¿¡é ¼æ€§ã‚’ä¿è¨¼ã—ã€ç¶™ç¶šçš„ãªãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ã¨æ©Ÿèƒ½è¿½åŠ ã‚’å®‰å…¨ã«è¡Œãˆã‚‹ã‚ˆã†è¨­è¨ˆã•ã‚Œã¦ã„ã¾ã™ã€‚
